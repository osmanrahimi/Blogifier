@using Blogifier.Core.Common
@using Blogifier.Core.Data.Models
@using Blogifier.Views.Blogifier.Widgets
@using Blogifier.Core.Extensions
@model BlogPostsModel

<section class="container">
    @await Component.InvokeAsync("PostList", new { listType = ListType.FeaturedPosts, count = 2 })
</section>

@if (Model.Posts != null)
{
    foreach (var item in Model.Posts)
    {
        if (!item.IsFeatured)
        {
            <article class="post">
                <div class="post-cover"><img src="@item.Image" alt="@item.Title"></div>
                <div class="post-meta">
                    <a class="post-meta-author" href="~/@ApplicationSettings.BlogRoute@item.BlogSlug">@item.AuthorName</a>
                    <time class="post-meta-time">@item.Published.ToFriendlyDateString()</time>
                    @if (item.PostCategories != null && item.PostCategories.Count > 0)
                        {
                        <span class="post-meta-category">
                            /
                            @foreach (var cat in item.PostCategories)
                            {
                                <a href="~/@ApplicationSettings.BlogRoute@item.BlogSlug/@cat">@cat</a>
                            }
                        </span>
                    }
                </div>
                <h2 class="post-title"><a href="~/@ApplicationSettings.BlogRoute@item.Slug">@item.Title</a></h2>
                <a class="btn btn-rounded btn-outline-dark" href="~/@ApplicationSettings.BlogRoute@item.Slug">Read More</a>
            </article>
        }
    }
}
@Html.Partial($"~/{ApplicationSettings.BlogThemesFolder}/OneFour/_Shared/_Pager.cshtml", Model.Pager)
